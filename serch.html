<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>영화검색</title>
<link rel="stylesheet" href="s.css">
</head>
<body>
    <div class="movie_serch">
        <h1>영화 검색</h1>
        <input type="text" id="searchInput" placeholder="검색어를 입력하세요">
        <button onclick="searchMovies()">검색</button>
        <div id="searchResults"></div>
    </div>

    <script>
        function searchMovies() {
            const searchInput = document.getElementById('searchInput').value;
            const searchResults = document.getElementById('searchResults');
            const apiUrl = `http://www.omdbapi.com/?s=${encodeURIComponent(searchInput)}&apikey=1324c87f`;

            searchResults.innerHTML = ''; // 이전 검색 결과 지우기

            // API 호출
            fetch(apiUrl)
                .then(response => response.json())
                .then(data => {
                    if (data.Response === "True") {
                        const movies = data.Search;
                        movies.forEach(movie => {
                            const movieTitle = movie.Title;
                            const movieYear = movie.Year;
                            const moviePoster = movie.Poster;
                            searchResults.innerHTML += `<div><h2>${movieTitle} (${movieYear})</h2><img src="${moviePoster}" alt="${movieTitle}"></div>`;
                        });
                    } else {
                        searchResults.innerHTML = '<p>No results found</p>';
                    }
                })
                .catch(error => {
                    console.error('Error fetching data:', error);
                    searchResults.innerHTML = '<p>Error fetching data</p>';
                });
        }
    </script>
</body>
</html>